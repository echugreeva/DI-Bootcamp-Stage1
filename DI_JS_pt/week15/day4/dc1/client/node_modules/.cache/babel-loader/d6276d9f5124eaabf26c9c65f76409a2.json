{"ast":null,"code":"var _jsxFileName = \"/Users/elenachugreeva/Documents/DI-Bootcamp-Stage1/DI_JS_pt/week15/day4/dc1/client/src/App.js\";\nimport logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.sendPost = () => {\n      console.log(`pressed send`);\n      console.log(`${this.state.input}`);\n      console.log(JSON.stringify(this.state.input));\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: 'React POST Request Example'\n        })\n      }; // fetch('http://localhost:5002/api/world', {\n      //   method: 'POST',\n      //   mode: 'no-cors',   \n      //   headers: {\n      //   'Content-Type': 'application/json',\n      //   \"Access-Control-Allow-Origin\": \"*\",\n      //   \"Access-Control-Allow-Headers\": \"X-Origin, X-Api-Key, X-Requested-With, Content-Type, Accept, Authorization-With\",\n      //   \"Access-Control-Allow-Methods\": \"POST, PUT, PATCH, GET, DELETE, OPTIONS\"\n      //   },\n      //   body: JSON.stringify({answer: this.state.input})\n      // })\n\n      fetch('http://localhost:5002/api/world', requestOptions).then(res => {\n        console.log(`before json ${res}`);\n        return res.json();\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          answer: res\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      resp: '',\n      input: '',\n      answer: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5002/api/hello').then(res => res.json()).then(res => this.setState({\n      resp: res\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"this state: \", this.state.resp]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Post to server\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => {\n            this.setState({\n              input: e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.sendPost,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"answer from server: \", this.state.answer]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["logo","React","App","Component","constructor","sendPost","console","log","state","input","JSON","stringify","requestOptions","method","headers","body","title","fetch","then","res","json","setState","answer","catch","err","resp","componentDidMount","render","e","target","value"],"sources":["/Users/elenachugreeva/Documents/DI-Bootcamp-Stage1/DI_JS_pt/week15/day4/dc1/client/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\n\n\nclass App extends React.Component{\n  constructor (){\n    super();\n    this.state = {\n      resp:'',\n      input:'',\n      answer:''\n      \n    };\n  \n  }\n  \n\n  componentDidMount() {\n     fetch('http://localhost:5002/api/hello')\n     .then(res => res.json())\n     .then(res => this.setState({resp: res}));\n\n\n  }\n  sendPost = ()=> {\n\n\n  console.log(`pressed send`)\n  console.log(`${this.state.input}`)\n  console.log(JSON.stringify(this.state.input))\n  const requestOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ title: 'React POST Request Example' })\n};\n\n  // fetch('http://localhost:5002/api/world', {\n  //   method: 'POST',\n  //   mode: 'no-cors',   \n  //   headers: {\n  //   'Content-Type': 'application/json',\n  //   \"Access-Control-Allow-Origin\": \"*\",\n  //   \"Access-Control-Allow-Headers\": \"X-Origin, X-Api-Key, X-Requested-With, Content-Type, Accept, Authorization-With\",\n  //   \"Access-Control-Allow-Methods\": \"POST, PUT, PATCH, GET, DELETE, OPTIONS\"\n  \n  //   },\n  //   body: JSON.stringify({answer: this.state.input})\n    \n    \n  // })\n  fetch('http://localhost:5002/api/world', requestOptions).then(res => {\n      console.log(`before json ${res}`)\n     return res.json()\n    })\n    .then(res => {\n    console.log(res);\n    this.setState({answer:res})\n\n})\n.catch(err=>{console.log(err)})\n\n  }\n  render (){\n  \n    return (<div className=\"App\">\n    <header className=\"App-header\">\n      <p>this state: {this.state.resp}</p>\n      <h4>Post to server</h4>\n      <input type='text' onChange={(e)=>{this.setState({input:e.target.value})}}></input>\n      <button onClick={this.sendPost}>Send</button>\n      <p>answer from server: {this.state.answer}</p>\n    </header>\n    \n  </div>\n);\n}\n}\n\n\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,GAAN,SAAkBD,KAAK,CAACE,SAAxB,CAAiC;EAC/BC,WAAW,GAAG;IACZ;;IADY,KAmBdC,QAnBc,GAmBH,MAAK;MAGhBC,OAAO,CAACC,GAAR,CAAa,cAAb;MACAD,OAAO,CAACC,GAAR,CAAa,GAAE,KAAKC,KAAL,CAAWC,KAAM,EAAhC;MACAH,OAAO,CAACC,GAAR,CAAYG,IAAI,CAACC,SAAL,CAAe,KAAKH,KAAL,CAAWC,KAA1B,CAAZ;MACA,MAAMG,cAAc,GAAG;QACrBC,MAAM,EAAE,MADa;QAErBC,OAAO,EAAE;UAAE,gBAAgB;QAAlB,CAFY;QAGrBC,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAe;UAAEK,KAAK,EAAE;QAAT,CAAf;MAHe,CAAvB,CANgB,CAYhB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MAGA;;MACAC,KAAK,CAAC,iCAAD,EAAoCL,cAApC,CAAL,CAAyDM,IAAzD,CAA8DC,GAAG,IAAI;QACjEb,OAAO,CAACC,GAAR,CAAa,eAAcY,GAAI,EAA/B;QACD,OAAOA,GAAG,CAACC,IAAJ,EAAP;MACA,CAHH,EAIGF,IAJH,CAIQC,GAAG,IAAI;QACbb,OAAO,CAACC,GAAR,CAAYY,GAAZ;QACA,KAAKE,QAAL,CAAc;UAACC,MAAM,EAACH;QAAR,CAAd;MAEH,CARC,EASDI,KATC,CASKC,GAAG,IAAE;QAAClB,OAAO,CAACC,GAAR,CAAYiB,GAAZ;MAAiB,CAT5B;IAWC,CAxDa;;IAEZ,KAAKhB,KAAL,GAAa;MACXiB,IAAI,EAAC,EADM;MAEXhB,KAAK,EAAC,EAFK;MAGXa,MAAM,EAAC;IAHI,CAAb;EAOD;;EAGDI,iBAAiB,GAAG;IACjBT,KAAK,CAAC,iCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMC,GAAG,IAAI,KAAKE,QAAL,CAAc;MAACI,IAAI,EAAEN;IAAP,CAAd,CAFb;EAKF;;EAuCDQ,MAAM,GAAG;IAEP,oBAAQ;MAAK,SAAS,EAAC,KAAf;MAAA,uBACR;QAAQ,SAAS,EAAC,YAAlB;QAAA,wBACE;UAAA,2BAAgB,KAAKnB,KAAL,CAAWiB,IAA3B;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAGG,CAAD,IAAK;YAAC,KAAKP,QAAL,CAAc;cAACZ,KAAK,EAACmB,CAAC,CAACC,MAAF,CAASC;YAAhB,CAAd;UAAsC;QAAzE;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE;UAAQ,OAAO,EAAE,KAAKzB,QAAtB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAJF,eAKE;UAAA,mCAAwB,KAAKG,KAAL,CAAWc,MAAnC;QAAA;UAAA;UAAA;UAAA;QAAA,QALF;MAAA;QAAA;QAAA;QAAA;MAAA;IADQ;MAAA;MAAA;MAAA;IAAA,QAAR;EAWH;;AAvEgC;;AA4EjC,eAAepB,GAAf"},"metadata":{},"sourceType":"module"}